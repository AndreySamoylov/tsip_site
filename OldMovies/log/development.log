  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY) /*application='OldMovies'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-04-30 14:18:59.550021', '2025-04-30 14:18:59.550025') RETURNING "key" /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
Migrating to CreateFilms (20250430140832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='OldMovies'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "films" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar NOT NULL, "year" varchar NOT NULL, "budget" varchar NOT NULL, "description" varchar NOT NULL, "poster_link" varchar NOT NULL, "iframe_link" varchar NOT NULL, "country" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250430140832') RETURNING "version" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[35m (3.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "films" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (63.0ms)[0m  [1m[35mCREATE TABLE "films" ("id" bigserial primary key, "title" character varying NOT NULL, "year" character varying NOT NULL, "budget" character varying NOT NULL, "description" character varying NOT NULL, "poster_link" character varying NOT NULL, "iframe_link" character varying NOT NULL, "country" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[35m (1.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250430140832) /*application='OldMovies'*/[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (16.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (3.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-04-30 14:21:29.891899', '2025-04-30 14:21:29.891906') RETURNING "key" /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '51721eb22e340a1465170bb4b84e4a76481426e8', '2025-04-30 14:21:29.903469', '2025-04-30 14:21:29.903475') RETURNING "key" /*application='OldMovies'*/[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (5.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
Migrating to CreateFacts (20250430142229)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[35m (27.7ms)[0m  [1m[35mCREATE TABLE "facts" ("id" bigserial primary key, "film_id" bigint NOT NULL, "description" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_f2d2dbc958"
FOREIGN KEY ("film_id")
  REFERENCES "films" ("id")
) /*application='OldMovies'*/[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE INDEX "index_facts_on_film_id" ON "facts" ("film_id") /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250430142229') RETURNING "version" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
Migrating to CreateGenre (20250430143113)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE "genres" ("id" bigserial primary key, "description" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250430143113') RETURNING "version" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
Migrating to CreateFilmsGenre (20250430143321)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "films_genres" ("id" bigserial primary key, "film_id" bigint NOT NULL, "genre_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_990b08abc6"
FOREIGN KEY ("film_id")
  REFERENCES "films" ("id")
, CONSTRAINT "fk_rails_dd95b99448"
FOREIGN KEY ("genre_id")
  REFERENCES "genres" ("id")
) /*application='OldMovies'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_films_genres_on_film_id" ON "films_genres" ("film_id") /*application='OldMovies'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_films_genres_on_genre_id" ON "films_genres" ("genre_id") /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250430143321') RETURNING "version" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_advisory_unlock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
Migrating to CreateActors (20250430143729)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK /*application='OldMovies'*/[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
Migrating to CreateActors (20250430143729)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[35m (11.4ms)[0m  [1m[35mCREATE TABLE "actors" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "country" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250430143729') RETURNING "version" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
Migrating to CreateFilmsActors (20250430144143)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE TABLE "films_actors" ("id" bigserial primary key, "film_id" bigint NOT NULL, "actor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_2c485797ac"
FOREIGN KEY ("film_id")
  REFERENCES "films" ("id")
, CONSTRAINT "fk_rails_bce95af18f"
FOREIGN KEY ("actor_id")
  REFERENCES "actors" ("id")
) /*application='OldMovies'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_films_actors_on_film_id" ON "films_actors" ("film_id") /*application='OldMovies'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_films_actors_on_actor_id" ON "films_actors" ("actor_id") /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250430144143') RETURNING "version" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_advisory_unlock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (8.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='OldMovies'*/[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-05-19 12:43:55.598991', '2025-05-19 12:43:55.598994') RETURNING "key" /*application='OldMovies'*/[0m
Migrating to CreateFilms (20250430140832)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "films" ("id" bigserial primary key, "title" character varying NOT NULL, "year" character varying NOT NULL, "budget" character varying NOT NULL, "description" character varying NOT NULL, "poster_link" character varying NOT NULL, "iframe_link" character varying NOT NULL, "country" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250430140832') RETURNING "version" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
Migrating to CreateFacts (20250430142229)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "facts" ("id" bigserial primary key, "film_id" bigint NOT NULL, "description" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_f2d2dbc958"
FOREIGN KEY ("film_id")
  REFERENCES "films" ("id")
) /*application='OldMovies'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_facts_on_film_id" ON "facts" ("film_id") /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250430142229') RETURNING "version" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
Migrating to CreateGenre (20250430143113)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "genres" ("id" bigserial primary key, "description" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250430143113') RETURNING "version" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
Migrating to CreateFilmsGenre (20250430143321)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "films_genres" ("id" bigserial primary key, "film_id" bigint NOT NULL, "genre_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_990b08abc6"
FOREIGN KEY ("film_id")
  REFERENCES "films" ("id")
, CONSTRAINT "fk_rails_dd95b99448"
FOREIGN KEY ("genre_id")
  REFERENCES "genres" ("id")
) /*application='OldMovies'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_films_genres_on_film_id" ON "films_genres" ("film_id") /*application='OldMovies'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_films_genres_on_genre_id" ON "films_genres" ("genre_id") /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250430143321') RETURNING "version" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
Migrating to CreateActors (20250430143729)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[35m (9.3ms)[0m  [1m[35mCREATE TABLE "actors" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "country" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250430143729') RETURNING "version" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
Migrating to CreateFilmsActors (20250430144143)
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE "films_actors" ("id" bigserial primary key, "film_id" bigint NOT NULL, "actor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_2c485797ac"
FOREIGN KEY ("film_id")
  REFERENCES "films" ("id")
, CONSTRAINT "fk_rails_bce95af18f"
FOREIGN KEY ("actor_id")
  REFERENCES "actors" ("id")
) /*application='OldMovies'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_films_actors_on_film_id" ON "films_actors" ("film_id") /*application='OldMovies'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_films_actors_on_actor_id" ON "films_actors" ("actor_id") /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250430144143') RETURNING "version" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (1.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='OldMovies'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "actors" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "actors" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "country" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "facts" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "facts" ("id" bigserial primary key, "film_id" bigint NOT NULL, "description" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_facts_on_film_id" ON "facts" ("film_id") /*application='OldMovies'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "films" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "films" ("id" bigserial primary key, "title" character varying NOT NULL, "year" character varying NOT NULL, "budget" character varying NOT NULL, "description" character varying NOT NULL, "poster_link" character varying NOT NULL, "iframe_link" character varying NOT NULL, "country" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "films_actors" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "films_actors" ("id" bigserial primary key, "film_id" bigint NOT NULL, "actor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_films_actors_on_actor_id" ON "films_actors" ("actor_id") /*application='OldMovies'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_films_actors_on_film_id" ON "films_actors" ("film_id") /*application='OldMovies'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "films_genres" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "films_genres" ("id" bigserial primary key, "film_id" bigint NOT NULL, "genre_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_films_genres_on_film_id" ON "films_genres" ("film_id") /*application='OldMovies'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_films_genres_on_genre_id" ON "films_genres" ("genre_id") /*application='OldMovies'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "genres" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "genres" ("id" bigserial primary key, "description" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (5.2ms)[0m  [1m[35mALTER TABLE "facts" ADD CONSTRAINT "fk_rails_f2d2dbc958"
FOREIGN KEY ("film_id")
  REFERENCES "films" ("id")
 /*application='OldMovies'*/[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "films_actors" ADD CONSTRAINT "fk_rails_bce95af18f"
FOREIGN KEY ("actor_id")
  REFERENCES "actors" ("id")
 /*application='OldMovies'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "films_actors" ADD CONSTRAINT "fk_rails_2c485797ac"
FOREIGN KEY ("film_id")
  REFERENCES "films" ("id")
 /*application='OldMovies'*/[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "films_genres" ADD CONSTRAINT "fk_rails_990b08abc6"
FOREIGN KEY ("film_id")
  REFERENCES "films" ("id")
 /*application='OldMovies'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "films_genres" ADD CONSTRAINT "fk_rails_dd95b99448"
FOREIGN KEY ("genre_id")
  REFERENCES "genres" ("id")
 /*application='OldMovies'*/[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250430144143) /*application='OldMovies'*/[0m
  [1m[35m (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250430143729),
(20250430143321),
(20250430143113),
(20250430142229),
(20250430140832); /*application='OldMovies'*/[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-05-19 12:51:04.648515', '2025-05-19 12:51:04.648519') RETURNING "key" /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'a5f5e661a66561da912b04d1ab82fcc42c3e5ec3', '2025-05-19 12:51:04.669055', '2025-05-19 12:51:04.669058') RETURNING "key" /*application='OldMovies'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mFilm Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "films" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFilm Create (2.9ms)[0m  [1m[32mINSERT INTO "films" ("title", "year", "budget", "description", "poster_link", "iframe_link", "country", "created_at", "updated_at") VALUES ('Чужой', '1979', '11000000', 'В космосе никто не услышит твоего крика', 'https://drive.google.com/file/d/1Ey2NI0v_nhlLfqHE2LBjV_qZXweiFNLt/view?usp=drive_link', '<iframe width="720" height="405" src="https://rutube.ru/play/embed/df4ce5db4f57f9ce306c6b0a332e3b34/" frameBorder="0" allow="clipboard-write; autoplay" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>', 'Америка', '2025-05-19 12:51:21.575415', '2025-05-19 12:51:21.575415') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mFilm Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "films" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mFact Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "facts" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFilm Create (2.9ms)[0m  [1m[32mINSERT INTO "films" ("title", "year", "budget", "description", "poster_link", "iframe_link", "country", "created_at", "updated_at") VALUES ('Чужой', '1979', '11000000', 'В космосе никто не услышит твоего крика', 'https://drive.google.com/file/d/1Ey2NI0v_nhlLfqHE2LBjV_qZXweiFNLt/view?usp=drive_link', '<iframe width="720" height="405" src="https://rutube.ru/play/embed/df4ce5db4f57f9ce306c6b0a332e3b34/" frameBorder="0" allow="clipboard-write; autoplay" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>', 'Америка', '2025-05-19 12:56:24.236878', '2025-05-19 12:56:24.236878') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (5.1ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (NULL, 'Сцена с лицехватом снималась вверх ногами', '2025-05-19 12:56:24.250940', '2025-05-19 12:56:24.250940') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mFilm Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "films" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mFact Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "facts" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFilm Create (4.2ms)[0m  [1m[32mINSERT INTO "films" ("title", "year", "budget", "description", "poster_link", "iframe_link", "country", "created_at", "updated_at") VALUES ('Чужой', '1979', '11000000', 'В космосе никто не услышит твоего крика', 'https://drive.google.com/file/d/1Ey2NI0v_nhlLfqHE2LBjV_qZXweiFNLt/view?usp=drive_link', '<iframe width="720" height="405" src="https://rutube.ru/play/embed/df4ce5db4f57f9ce306c6b0a332e3b34/" frameBorder="0" allow="clipboard-write; autoplay" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>', 'Америка', '2025-05-19 13:01:48.275745', '2025-05-19 13:01:48.275745') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (2.6ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (3, 'Сцена с лицехватом снималась вверх ногами', '2025-05-19 13:01:48.310197', '2025-05-19 13:01:48.310197') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (3.9ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (NULL, 'Актеры не были подготовлены к сцене с грудоломом', '2025-05-19 13:01:48.323744', '2025-05-19 13:01:48.323744') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mFilm Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "films" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mFact Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "facts" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mGenre Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "genres" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFilm Create (1.9ms)[0m  [1m[32mINSERT INTO "films" ("title", "year", "budget", "description", "poster_link", "iframe_link", "country", "created_at", "updated_at") VALUES ('Чужой', '1979', '11000000', 'В космосе никто не услышит твоего крика', 'https://drive.google.com/file/d/1Ey2NI0v_nhlLfqHE2LBjV_qZXweiFNLt/view?usp=drive_link', '<iframe width="720" height="405" src="https://rutube.ru/play/embed/df4ce5db4f57f9ce306c6b0a332e3b34/" frameBorder="0" allow="clipboard-write; autoplay" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>', 'Америка', '2025-05-19 13:02:30.445392', '2025-05-19 13:02:30.445392') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (3.0ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (4, 'Сцена с лицехватом снималась вверх ногами', '2025-05-19 13:02:30.457401', '2025-05-19 13:02:30.457401') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (1.7ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (4, 'Актеры не были подготовлены к сцене с грудоломом', '2025-05-19 13:02:30.464489', '2025-05-19 13:02:30.464489') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (2.2ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (4, 'Чужого сыграл очень худой нигерийский студент', '2025-05-19 13:02:30.471184', '2025-05-19 13:02:30.471184') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (3.1ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (4, 'Зрители на тестовых показах испытывали приступы тошноты и падали в обморок', '2025-05-19 13:02:30.478205', '2025-05-19 13:02:30.478205') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (2.1ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (4, 'В первый уикенд фильм заработал $3,5 млн', '2025-05-19 13:02:30.487129', '2025-05-19 13:02:30.487129') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (2.0ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Научная фантастика', '2025-05-19 13:02:30.497112', '2025-05-19 13:02:30.497112') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.6ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Ужасы', '2025-05-19 13:02:30.503654', '2025-05-19 13:02:30.503654') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.6ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Боевик', '2025-05-19 13:02:30.509905', '2025-05-19 13:02:30.509905') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.6ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Комедия', '2025-05-19 13:02:30.516364', '2025-05-19 13:02:30.516364') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.7ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Драма', '2025-05-19 13:02:30.522802', '2025-05-19 13:02:30.522802') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.7ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Исторический', '2025-05-19 13:02:30.529065', '2025-05-19 13:02:30.529065') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.6ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Детектив', '2025-05-19 13:02:30.535103', '2025-05-19 13:02:30.535103') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (2.0ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Аниме', '2025-05-19 13:02:30.541025', '2025-05-19 13:02:30.541025') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.7ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Биография', '2025-05-19 13:02:30.547757', '2025-05-19 13:02:30.547757') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (2.5ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Фэнтези', '2025-05-19 13:02:30.553901', '2025-05-19 13:02:30.553901') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.7ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Дорама', '2025-05-19 13:02:30.561050', '2025-05-19 13:02:30.561050') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.7ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Документальное', '2025-05-19 13:02:30.567398', '2025-05-19 13:02:30.567398') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (2.6ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Уивер', 'Сигурни', 'Америка', '2025-05-19 13:02:30.587436', '2025-05-19 13:02:30.587436') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (1.9ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Скеррит', 'Том', 'Америка', '2025-05-19 13:02:30.598777', '2025-05-19 13:02:30.598777') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (1.5ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Картрайт', 'Вероника', 'Америка', '2025-05-19 13:02:30.607038', '2025-05-19 13:02:30.607038') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (1.6ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Хёрт', 'Джон', 'Америка', '2025-05-19 13:02:30.613256', '2025-05-19 13:02:30.613256') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (1.8ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Стэнтон', 'Гарри Дин', 'Америка', '2025-05-19 13:02:30.619746', '2025-05-19 13:02:30.619746') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (1.6ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Холм', 'Иэн', 'Великобритания', '2025-05-19 13:02:30.626373', '2025-05-19 13:02:30.626373') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mFilm Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "films" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mFact Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "facts" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mGenre Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "genres" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mActor Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "actors" LIMIT 1 /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mFilm Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "films" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mFact Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "facts" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mGenre Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "genres" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mActor Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "actors" LIMIT 1 /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mFilm Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "films" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mFact Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "facts" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mGenre Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "genres" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mActor Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "actors" LIMIT 1 /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='OldMovies'*/[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (2.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-05-19 13:08:30.652515', '2025-05-19 13:08:30.652519') RETURNING "key" /*application='OldMovies'*/[0m
Migrating to CreateFilms (20250430140832)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "films" ("id" bigserial primary key, "title" character varying NOT NULL, "year" character varying NOT NULL, "budget" character varying NOT NULL, "description" character varying NOT NULL, "poster_link" character varying NOT NULL, "iframe_link" character varying NOT NULL, "country" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250430140832') RETURNING "version" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
Migrating to CreateFacts (20250430142229)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE "facts" ("id" bigserial primary key, "film_id" bigint NOT NULL, "description" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_f2d2dbc958"
FOREIGN KEY ("film_id")
  REFERENCES "films" ("id")
) /*application='OldMovies'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_facts_on_film_id" ON "facts" ("film_id") /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250430142229') RETURNING "version" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
Migrating to CreateGenre (20250430143113)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "genres" ("id" bigserial primary key, "description" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250430143113') RETURNING "version" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
Migrating to CreateFilmsGenre (20250430143321)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "films_genres" ("id" bigserial primary key, "film_id" bigint NOT NULL, "genre_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_990b08abc6"
FOREIGN KEY ("film_id")
  REFERENCES "films" ("id")
, CONSTRAINT "fk_rails_dd95b99448"
FOREIGN KEY ("genre_id")
  REFERENCES "genres" ("id")
) /*application='OldMovies'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_films_genres_on_film_id" ON "films_genres" ("film_id") /*application='OldMovies'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_films_genres_on_genre_id" ON "films_genres" ("genre_id") /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250430143321') RETURNING "version" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
Migrating to CreateActors (20250430143729)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "actors" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "country" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250430143729') RETURNING "version" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
Migrating to CreateFilmsActors (20250430144143)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE TABLE "films_actors" ("id" bigserial primary key, "film_id" bigint NOT NULL, "actor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_2c485797ac"
FOREIGN KEY ("film_id")
  REFERENCES "films" ("id")
, CONSTRAINT "fk_rails_bce95af18f"
FOREIGN KEY ("actor_id")
  REFERENCES "actors" ("id")
) /*application='OldMovies'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_films_actors_on_film_id" ON "films_actors" ("film_id") /*application='OldMovies'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_films_actors_on_actor_id" ON "films_actors" ("actor_id") /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250430144143') RETURNING "version" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mFilm Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "films" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFilm Create (2.2ms)[0m  [1m[32mINSERT INTO "films" ("title", "year", "budget", "description", "poster_link", "iframe_link", "country", "created_at", "updated_at") VALUES ('Чужой', '1979', '11000000', 'В космосе никто не услышит твоего крика', 'https://drive.google.com/file/d/1Ey2NI0v_nhlLfqHE2LBjV_qZXweiFNLt/view?usp=drive_link', '<iframe width="720" height="405" src="https://rutube.ru/play/embed/df4ce5db4f57f9ce306c6b0a332e3b34/" frameBorder="0" allow="clipboard-write; autoplay" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>', 'Америка', '2025-05-19 13:09:05.834527', '2025-05-19 13:09:05.834527') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (2.4ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (1, 'Сцена с лицехватом снималась вверх ногами', '2025-05-19 13:09:05.851191', '2025-05-19 13:09:05.851191') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (1.9ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (1, 'Актеры не были подготовлены к сцене с грудоломом', '2025-05-19 13:09:05.858949', '2025-05-19 13:09:05.858949') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (2.7ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (1, 'Чужого сыграл очень худой нигерийский студент', '2025-05-19 13:09:05.866402', '2025-05-19 13:09:05.866402') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (2.3ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (1, 'Зрители на тестовых показах испытывали приступы тошноты и падали в обморок', '2025-05-19 13:09:05.874603', '2025-05-19 13:09:05.874603') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (2.1ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (1, 'В первый уикенд фильм заработал $3,5 млн', '2025-05-19 13:09:05.882333', '2025-05-19 13:09:05.882333') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (2.5ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Научная фантастика', '2025-05-19 13:09:05.895706', '2025-05-19 13:09:05.895706') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.6ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Ужасы', '2025-05-19 13:09:05.902487', '2025-05-19 13:09:05.902487') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.7ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Боевик', '2025-05-19 13:09:05.909320', '2025-05-19 13:09:05.909320') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.6ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Комедия', '2025-05-19 13:09:05.915303', '2025-05-19 13:09:05.915303') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.7ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Драма', '2025-05-19 13:09:05.921544', '2025-05-19 13:09:05.921544') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.6ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Исторический', '2025-05-19 13:09:05.927596', '2025-05-19 13:09:05.927596') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.8ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Детектив', '2025-05-19 13:09:05.933811', '2025-05-19 13:09:05.933811') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (2.0ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Аниме', '2025-05-19 13:09:05.940022', '2025-05-19 13:09:05.940022') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.8ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Биография', '2025-05-19 13:09:05.946293', '2025-05-19 13:09:05.946293') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.7ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Фэнтези', '2025-05-19 13:09:05.952731', '2025-05-19 13:09:05.952731') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.6ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Дорама', '2025-05-19 13:09:05.959552', '2025-05-19 13:09:05.959552') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (2.0ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Документальное', '2025-05-19 13:09:05.965516', '2025-05-19 13:09:05.965516') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (6.1ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Уивер', 'Сигурни', 'Америка', '2025-05-19 13:09:05.980925', '2025-05-19 13:09:05.980925') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (1.7ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Скеррит', 'Том', 'Америка', '2025-05-19 13:09:05.991534', '2025-05-19 13:09:05.991534') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (1.8ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Картрайт', 'Вероника', 'Америка', '2025-05-19 13:09:05.998065', '2025-05-19 13:09:05.998065') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (2.4ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Хёрт', 'Джон', 'Америка', '2025-05-19 13:09:06.004400', '2025-05-19 13:09:06.004400') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (1.8ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Стэнтон', 'Гарри Дин', 'Америка', '2025-05-19 13:09:06.011039', '2025-05-19 13:09:06.011039') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (1.7ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Холм', 'Иэн', 'Великобритания', '2025-05-19 13:09:06.018195', '2025-05-19 13:09:06.018195') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='OldMovies'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "actors" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "actors" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "country" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "facts" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "facts" ("id" bigserial primary key, "film_id" bigint NOT NULL, "description" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_facts_on_film_id" ON "facts" ("film_id") /*application='OldMovies'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "films" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "films" ("id" bigserial primary key, "title" character varying NOT NULL, "year" character varying NOT NULL, "budget" character varying NOT NULL, "description" character varying NOT NULL, "poster_link" character varying NOT NULL, "iframe_link" character varying NOT NULL, "country" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "films_actors" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "films_actors" ("id" bigserial primary key, "film_id" bigint NOT NULL, "actor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_films_actors_on_actor_id" ON "films_actors" ("actor_id") /*application='OldMovies'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_films_actors_on_film_id" ON "films_actors" ("film_id") /*application='OldMovies'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "films_genres" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "films_genres" ("id" bigserial primary key, "film_id" bigint NOT NULL, "genre_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_films_genres_on_film_id" ON "films_genres" ("film_id") /*application='OldMovies'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_films_genres_on_genre_id" ON "films_genres" ("genre_id") /*application='OldMovies'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "genres" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE "genres" ("id" bigserial primary key, "description" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "facts" ADD CONSTRAINT "fk_rails_f2d2dbc958"
FOREIGN KEY ("film_id")
  REFERENCES "films" ("id")
 /*application='OldMovies'*/[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "films_actors" ADD CONSTRAINT "fk_rails_bce95af18f"
FOREIGN KEY ("actor_id")
  REFERENCES "actors" ("id")
 /*application='OldMovies'*/[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "films_actors" ADD CONSTRAINT "fk_rails_2c485797ac"
FOREIGN KEY ("film_id")
  REFERENCES "films" ("id")
 /*application='OldMovies'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "films_genres" ADD CONSTRAINT "fk_rails_990b08abc6"
FOREIGN KEY ("film_id")
  REFERENCES "films" ("id")
 /*application='OldMovies'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "films_genres" ADD CONSTRAINT "fk_rails_dd95b99448"
FOREIGN KEY ("genre_id")
  REFERENCES "genres" ("id")
 /*application='OldMovies'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250430144143) /*application='OldMovies'*/[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250430143729),
(20250430143321),
(20250430143113),
(20250430142229),
(20250430140832); /*application='OldMovies'*/[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-05-19 13:10:04.608258', '2025-05-19 13:10:04.608261') RETURNING "key" /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'a5f5e661a66561da912b04d1ab82fcc42c3e5ec3', '2025-05-19 13:10:04.615164', '2025-05-19 13:10:04.615168') RETURNING "key" /*application='OldMovies'*/[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mFilm Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "films" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFilm Create (2.4ms)[0m  [1m[32mINSERT INTO "films" ("title", "year", "budget", "description", "poster_link", "iframe_link", "country", "created_at", "updated_at") VALUES ('Чужой', '1979', '11000000', 'В космосе никто не услышит твоего крика', 'https://drive.google.com/file/d/1Ey2NI0v_nhlLfqHE2LBjV_qZXweiFNLt/view?usp=drive_link', '<iframe width="720" height="405" src="https://rutube.ru/play/embed/df4ce5db4f57f9ce306c6b0a332e3b34/" frameBorder="0" allow="clipboard-write; autoplay" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>', 'Америка', '2025-05-19 13:10:09.997860', '2025-05-19 13:10:09.997860') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (3.2ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (1, 'Сцена с лицехватом снималась вверх ногами', '2025-05-19 13:10:10.014627', '2025-05-19 13:10:10.014627') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (2.3ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (1, 'Актеры не были подготовлены к сцене с грудоломом', '2025-05-19 13:10:10.022669', '2025-05-19 13:10:10.022669') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (2.2ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (1, 'Чужого сыграл очень худой нигерийский студент', '2025-05-19 13:10:10.030114', '2025-05-19 13:10:10.030114') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (2.3ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (1, 'Зрители на тестовых показах испытывали приступы тошноты и падали в обморок', '2025-05-19 13:10:10.037251', '2025-05-19 13:10:10.037251') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (2.8ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (1, 'В первый уикенд фильм заработал $3,5 млн', '2025-05-19 13:10:10.044500', '2025-05-19 13:10:10.044500') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (2.0ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Научная фантастика', '2025-05-19 13:10:10.058462', '2025-05-19 13:10:10.058462') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (2.1ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Ужасы', '2025-05-19 13:10:10.064829', '2025-05-19 13:10:10.064829') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.7ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Боевик', '2025-05-19 13:10:10.071374', '2025-05-19 13:10:10.071374') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.7ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Комедия', '2025-05-19 13:10:10.077332', '2025-05-19 13:10:10.077332') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.6ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Драма', '2025-05-19 13:10:10.083241', '2025-05-19 13:10:10.083241') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (2.1ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Исторический', '2025-05-19 13:10:10.089495', '2025-05-19 13:10:10.089495') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.7ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Детектив', '2025-05-19 13:10:10.096070', '2025-05-19 13:10:10.096070') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.8ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Аниме', '2025-05-19 13:10:10.102108', '2025-05-19 13:10:10.102108') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.8ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Биография', '2025-05-19 13:10:10.108534', '2025-05-19 13:10:10.108534') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.8ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Фэнтези', '2025-05-19 13:10:10.114576', '2025-05-19 13:10:10.114576') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (2.1ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Дорама', '2025-05-19 13:10:10.120758', '2025-05-19 13:10:10.120758') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.6ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Документальное', '2025-05-19 13:10:10.127702', '2025-05-19 13:10:10.127702') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (5.8ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Уивер', 'Сигурни', 'Америка', '2025-05-19 13:10:10.141391', '2025-05-19 13:10:10.141391') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (1.6ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Скеррит', 'Том', 'Америка', '2025-05-19 13:10:10.151752', '2025-05-19 13:10:10.151752') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (1.6ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Картрайт', 'Вероника', 'Америка', '2025-05-19 13:10:10.159371', '2025-05-19 13:10:10.159371') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (2.0ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Хёрт', 'Джон', 'Америка', '2025-05-19 13:10:10.165187', '2025-05-19 13:10:10.165187') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (1.5ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Стэнтон', 'Гарри Дин', 'Америка', '2025-05-19 13:10:10.173157', '2025-05-19 13:10:10.173157') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (1.7ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Холм', 'Иэн', 'Великобритания', '2025-05-19 13:10:10.179301', '2025-05-19 13:10:10.179301') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='OldMovies'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "actors" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE TABLE "actors" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "country" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "facts" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "facts" ("id" bigserial primary key, "film_id" bigint NOT NULL, "description" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_facts_on_film_id" ON "facts" ("film_id") /*application='OldMovies'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "films" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "films" ("id" bigserial primary key, "title" character varying NOT NULL, "year" character varying NOT NULL, "budget" character varying NOT NULL, "description" character varying NOT NULL, "poster_link" character varying NOT NULL, "iframe_link" character varying NOT NULL, "country" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "films_actors" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "films_actors" ("id" bigserial primary key, "film_id" bigint NOT NULL, "actor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_films_actors_on_actor_id" ON "films_actors" ("actor_id") /*application='OldMovies'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_films_actors_on_film_id" ON "films_actors" ("film_id") /*application='OldMovies'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "films_genres" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "films_genres" ("id" bigserial primary key, "film_id" bigint NOT NULL, "genre_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_films_genres_on_film_id" ON "films_genres" ("film_id") /*application='OldMovies'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_films_genres_on_genre_id" ON "films_genres" ("genre_id") /*application='OldMovies'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "genres" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "genres" ("id" bigserial primary key, "description" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "facts" ADD CONSTRAINT "fk_rails_f2d2dbc958"
FOREIGN KEY ("film_id")
  REFERENCES "films" ("id")
 /*application='OldMovies'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "films_actors" ADD CONSTRAINT "fk_rails_bce95af18f"
FOREIGN KEY ("actor_id")
  REFERENCES "actors" ("id")
 /*application='OldMovies'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "films_actors" ADD CONSTRAINT "fk_rails_2c485797ac"
FOREIGN KEY ("film_id")
  REFERENCES "films" ("id")
 /*application='OldMovies'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "films_genres" ADD CONSTRAINT "fk_rails_990b08abc6"
FOREIGN KEY ("film_id")
  REFERENCES "films" ("id")
 /*application='OldMovies'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "films_genres" ADD CONSTRAINT "fk_rails_dd95b99448"
FOREIGN KEY ("genre_id")
  REFERENCES "genres" ("id")
 /*application='OldMovies'*/[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250430144143) /*application='OldMovies'*/[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250430143729),
(20250430143321),
(20250430143113),
(20250430142229),
(20250430140832); /*application='OldMovies'*/[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-05-19 13:10:50.991362', '2025-05-19 13:10:50.991366') RETURNING "key" /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'a5f5e661a66561da912b04d1ab82fcc42c3e5ec3', '2025-05-19 13:10:50.999343', '2025-05-19 13:10:50.999348') RETURNING "key" /*application='OldMovies'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mFilm Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "films" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFilm Create (2.5ms)[0m  [1m[32mINSERT INTO "films" ("title", "year", "budget", "description", "poster_link", "iframe_link", "country", "created_at", "updated_at") VALUES ('Чужой', '1979', '11000000', 'В космосе никто не услышит твоего крика', 'https://drive.google.com/file/d/1Ey2NI0v_nhlLfqHE2LBjV_qZXweiFNLt/view?usp=drive_link', '<iframe width="720" height="405" src="https://rutube.ru/play/embed/df4ce5db4f57f9ce306c6b0a332e3b34/" frameBorder="0" allow="clipboard-write; autoplay" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>', 'Америка', '2025-05-19 13:10:54.329390', '2025-05-19 13:10:54.329390') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (2.3ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (1, 'Сцена с лицехватом снималась вверх ногами', '2025-05-19 13:10:54.347724', '2025-05-19 13:10:54.347724') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (4.0ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (1, 'Актеры не были подготовлены к сцене с грудоломом', '2025-05-19 13:10:54.354453', '2025-05-19 13:10:54.354453') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (2.3ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (1, 'Чужого сыграл очень худой нигерийский студент', '2025-05-19 13:10:54.363416', '2025-05-19 13:10:54.363416') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (3.0ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (1, 'Зрители на тестовых показах испытывали приступы тошноты и падали в обморок', '2025-05-19 13:10:54.370847', '2025-05-19 13:10:54.370847') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (2.3ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (1, 'В первый уикенд фильм заработал $3,5 млн', '2025-05-19 13:10:54.379226', '2025-05-19 13:10:54.379226') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (2.1ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Научная фантастика', '2025-05-19 13:10:54.392837', '2025-05-19 13:10:54.392837') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.7ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Ужасы', '2025-05-19 13:10:54.399426', '2025-05-19 13:10:54.399426') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (2.1ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Боевик', '2025-05-19 13:10:54.406000', '2025-05-19 13:10:54.406000') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.7ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Комедия', '2025-05-19 13:10:54.412661', '2025-05-19 13:10:54.412661') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.7ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Драма', '2025-05-19 13:10:54.419542', '2025-05-19 13:10:54.419542') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.6ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Исторический', '2025-05-19 13:10:54.426463', '2025-05-19 13:10:54.426463') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.7ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Детектив', '2025-05-19 13:10:54.432491', '2025-05-19 13:10:54.432491') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (2.2ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Аниме', '2025-05-19 13:10:54.438769', '2025-05-19 13:10:54.438769') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.8ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Биография', '2025-05-19 13:10:54.445697', '2025-05-19 13:10:54.445697') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.7ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Фэнтези', '2025-05-19 13:10:54.452265', '2025-05-19 13:10:54.452265') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.9ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Дорама', '2025-05-19 13:10:54.458498', '2025-05-19 13:10:54.458498') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.8ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Документальное', '2025-05-19 13:10:54.464299', '2025-05-19 13:10:54.464299') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (5.9ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Уивер', 'Сигурни', 'Америка', '2025-05-19 13:10:54.478838', '2025-05-19 13:10:54.478838') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (1.6ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Скеррит', 'Том', 'Америка', '2025-05-19 13:10:54.489474', '2025-05-19 13:10:54.489474') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (1.6ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Картрайт', 'Вероника', 'Америка', '2025-05-19 13:10:54.496422', '2025-05-19 13:10:54.496422') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (1.7ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Хёрт', 'Джон', 'Америка', '2025-05-19 13:10:54.502653', '2025-05-19 13:10:54.502653') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (1.6ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Стэнтон', 'Гарри Дин', 'Америка', '2025-05-19 13:10:54.510124', '2025-05-19 13:10:54.510124') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (1.7ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Холм', 'Иэн', 'Великобритания', '2025-05-19 13:10:54.516311', '2025-05-19 13:10:54.516311') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='OldMovies'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "actors" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE "actors" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "country" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "facts" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "facts" ("id" bigserial primary key, "film_id" bigint NOT NULL, "description" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_facts_on_film_id" ON "facts" ("film_id") /*application='OldMovies'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "films" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "films" ("id" bigserial primary key, "title" character varying NOT NULL, "year" character varying NOT NULL, "budget" character varying NOT NULL, "description" character varying NOT NULL, "poster_link" character varying NOT NULL, "iframe_link" character varying NOT NULL, "country" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "films_actors" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "films_actors" ("id" bigserial primary key, "film_id" bigint NOT NULL, "actor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_films_actors_on_actor_id" ON "films_actors" ("actor_id") /*application='OldMovies'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_films_actors_on_film_id" ON "films_actors" ("film_id") /*application='OldMovies'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "films_genres" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "films_genres" ("id" bigserial primary key, "film_id" bigint NOT NULL, "genre_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_films_genres_on_film_id" ON "films_genres" ("film_id") /*application='OldMovies'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_films_genres_on_genre_id" ON "films_genres" ("genre_id") /*application='OldMovies'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "genres" CASCADE /*application='OldMovies'*/[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "genres" ("id" bigserial primary key, "description" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "facts" ADD CONSTRAINT "fk_rails_f2d2dbc958"
FOREIGN KEY ("film_id")
  REFERENCES "films" ("id")
 /*application='OldMovies'*/[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "films_actors" ADD CONSTRAINT "fk_rails_bce95af18f"
FOREIGN KEY ("actor_id")
  REFERENCES "actors" ("id")
 /*application='OldMovies'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "films_actors" ADD CONSTRAINT "fk_rails_2c485797ac"
FOREIGN KEY ("film_id")
  REFERENCES "films" ("id")
 /*application='OldMovies'*/[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "films_genres" ADD CONSTRAINT "fk_rails_990b08abc6"
FOREIGN KEY ("film_id")
  REFERENCES "films" ("id")
 /*application='OldMovies'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "films_genres" ADD CONSTRAINT "fk_rails_dd95b99448"
FOREIGN KEY ("genre_id")
  REFERENCES "genres" ("id")
 /*application='OldMovies'*/[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250430144143) /*application='OldMovies'*/[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250430143729),
(20250430143321),
(20250430143113),
(20250430142229),
(20250430140832); /*application='OldMovies'*/[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-05-19 13:16:13.760799', '2025-05-19 13:16:13.760804') RETURNING "key" /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'a5f5e661a66561da912b04d1ab82fcc42c3e5ec3', '2025-05-19 13:16:13.772567', '2025-05-19 13:16:13.772573') RETURNING "key" /*application='OldMovies'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='OldMovies'*/[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(4954708025108201115) /*application='OldMovies'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mFilm Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "films" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFilm Create (2.2ms)[0m  [1m[32mINSERT INTO "films" ("title", "year", "budget", "description", "poster_link", "iframe_link", "country", "created_at", "updated_at") VALUES ('Чужой', '1979', '11000000', 'В космосе никто не услышит твоего крика', 'https://drive.google.com/file/d/1Ey2NI0v_nhlLfqHE2LBjV_qZXweiFNLt/view?usp=drive_link', '<iframe width="720" height="405" src="https://rutube.ru/play/embed/df4ce5db4f57f9ce306c6b0a332e3b34/" frameBorder="0" allow="clipboard-write; autoplay" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>', 'Америка', '2025-05-19 13:16:59.298562', '2025-05-19 13:16:59.298562') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (2.4ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (1, 'Сцена с лицехватом снималась вверх ногами', '2025-05-19 13:16:59.316026', '2025-05-19 13:16:59.316026') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (2.2ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (1, 'Актеры не были подготовлены к сцене с грудоломом', '2025-05-19 13:16:59.322897', '2025-05-19 13:16:59.322897') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (2.1ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (1, 'Чужого сыграл очень худой нигерийский студент', '2025-05-19 13:16:59.329708', '2025-05-19 13:16:59.329708') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (2.4ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (1, 'Зрители на тестовых показах испытывали приступы тошноты и падали в обморок', '2025-05-19 13:16:59.336494', '2025-05-19 13:16:59.336494') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mFact Create (2.1ms)[0m  [1m[32mINSERT INTO "facts" ("film_id", "description", "created_at", "updated_at") VALUES (1, 'В первый уикенд фильм заработал $3,5 млн', '2025-05-19 13:16:59.344416', '2025-05-19 13:16:59.344416') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.9ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Научная фантастика', '2025-05-19 13:16:59.357055', '2025-05-19 13:16:59.357055') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.6ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Ужасы', '2025-05-19 13:16:59.363191', '2025-05-19 13:16:59.363191') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.7ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Боевик', '2025-05-19 13:16:59.369109', '2025-05-19 13:16:59.369109') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.6ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Комедия', '2025-05-19 13:16:59.375358', '2025-05-19 13:16:59.375358') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.5ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Драма', '2025-05-19 13:16:59.380978', '2025-05-19 13:16:59.380978') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.7ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Исторический', '2025-05-19 13:16:59.386518', '2025-05-19 13:16:59.386518') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.7ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Детектив', '2025-05-19 13:16:59.392529', '2025-05-19 13:16:59.392529') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.7ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Аниме', '2025-05-19 13:16:59.398305', '2025-05-19 13:16:59.398305') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (2.1ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Биография', '2025-05-19 13:16:59.404245', '2025-05-19 13:16:59.404245') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.6ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Фэнтези', '2025-05-19 13:16:59.410941', '2025-05-19 13:16:59.410941') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.7ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Дорама', '2025-05-19 13:16:59.416895', '2025-05-19 13:16:59.416895') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mGenre Create (1.6ms)[0m  [1m[32mINSERT INTO "genres" ("description", "created_at", "updated_at") VALUES ('Документальное', '2025-05-19 13:16:59.422916', '2025-05-19 13:16:59.422916') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (5.8ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Уивер', 'Сигурни', 'Америка', '2025-05-19 13:16:59.436342', '2025-05-19 13:16:59.436342') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (1.5ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Скеррит', 'Том', 'Америка', '2025-05-19 13:16:59.446274', '2025-05-19 13:16:59.446274') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (1.7ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Картрайт', 'Вероника', 'Америка', '2025-05-19 13:16:59.451958', '2025-05-19 13:16:59.451958') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (1.5ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Хёрт', 'Джон', 'Америка', '2025-05-19 13:16:59.458805', '2025-05-19 13:16:59.458805') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (1.5ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Стэнтон', 'Гарри Дин', 'Америка', '2025-05-19 13:16:59.465234', '2025-05-19 13:16:59.465234') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='OldMovies'*/[0m
  [1m[36mActor Create (2.1ms)[0m  [1m[32mINSERT INTO "actors" ("first_name", "last_name", "country", "created_at", "updated_at") VALUES ('Холм', 'Иэн', 'Великобритания', '2025-05-19 13:16:59.470779', '2025-05-19 13:16:59.470779') RETURNING "id" /*application='OldMovies'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='OldMovies'*/[0m
[dotenv] Set [36mKINOPOISK_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='OldMovies'*/[0m
  [1m[36mFilm Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "films" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mFact Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "facts" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mGenre Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "genres" LIMIT 1 /*application='OldMovies'*/[0m
  [1m[36mActor Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "actors" LIMIT 1 /*application='OldMovies'*/[0m
